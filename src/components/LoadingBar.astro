---
import Line from "./Line.astro";
---

<div id="loadingBar">
  <Line side="end" animation="animatedLR" margin="mt-6 md:mt-10 mr-20" />
  <div class="h-[90vh] flex justify-center items-center">
    <div class="flex flex-col w-[80%] m-auto">
      <p class="text-white sm:text-base md:text-2xl showText h-8 font-semibold">
        D &#8203; e &#8203; v &#8203; e &#8203; l &#8203; o &#8203; p &#8203; i
        &#8203; n &#8203; g &#8203; &#8203; &#8203; . &#8203; &#8203; &#8203; .
        &#8203; &#8203; &#8203; .
      </p>
      <div
        class="border px-2 py-2 border-[#0000FF] mt-5 border- w-[100%]"
        id="PRUEBA"
      >
        <div class="grid place-items-center" id="percentage">
          <div class="divPercentage size-2 md:size-[30px] md:m-[0px 8px 0px 8px]" id="1"></div>
          <div class="divPercentage size-2 md:size-[30px] md:m-[0px 8px 0px 8px]" id="2"></div>
          <div class="divPercentage size-2 md:size-[30px] md:m-[0px 8px 0px 8px]" id="3"></div>
          <div class="divPercentage size-2 md:size-[30px] md:m-[0px 8px 0px 8px]" id="4"></div>
          <div class="divPercentage size-2 md:size-[30px] md:m-[0px 8px 0px 8px]" id="5"></div>
          <div class="divPercentage size-2 md:size-[30px] md:m-[0px 8px 0px 8px]" id="6"></div>
          <div class="divPercentage size-2 md:size-[30px] md:m-[0px 8px 0px 8px]" id="7"></div>
          <div class="divPercentage size-2 md:size-[30px] md:m-[0px 8px 0px 8px]" id="8"></div>
          <div class="divPercentage size-2 md:size-[30px] md:m-[0px 8px 0px 8px]" id="9"></div>
          <div class="divPercentage size-2 md:size-[30px] md:m-[0px 8px 0px 8px]" id="10"></div>
          <div class="divPercentage size-2 md:size-[30px] md:m-[0px 8px 0px 8px]" id="11"></div>
          <div class="divPercentage size-2 md:size-[30px] md:m-[0px 8px 0px 8px]" id="12"></div>
          <div class="divPercentage size-2 md:size-[30px] md:m-[0px 8px 0px 8px]" id="13"></div>
          <div class="divPercentage size-2 md:size-[30px] md:m-[0px 8px 0px 8px]" id="14"></div>
          <div class="divPercentage size-2 md:size-[30px] md:m-[0px 8px 0px 8px]" id="15"></div>
          <div class="divPercentage size-2 md:size-[30px] md:m-[0px 8px 0px 8px]" id="16"></div>
          <div class="divPercentage size-2 md:size-[30px] md:m-[0px 8px 0px 8px]" id="17"></div>
          <div class="divPercentage size-2 md:size-[30px] md:m-[0px 8px 0px 8px]" id="18"></div>
          <div class="divPercentage size-2 md:size-[30px] md:m-[0px 8px 0px 8px]" id="19"></div>
          <div class="divPercentage size-2 md:size-[30px] md:m-[0px 8px 0px 8px]" id="20"></div>
          <script>
            let count = 1;
            
            function showDiv() {
              if (count <= 20) {
                let div = document.getElementById("" + count);
                if (div != null) {
                  div.style.display = "block";
                  count++;
                }
              } else {
                let loadingDiv = document.getElementById("loadingBar")
                if(loadingDiv) loadingDiv.style.display = "none"
                let content = document.getElementById("content")
                if(content) window.location.href = "./aboutMe";
                clearInterval(interval);
              }
            }

            let interval = setInterval(() => {
              showDiv();
            }, 150);
          </script>
          
        </div>
      </div>
    </div>
  </div>
  <Line side="start" animation="animatedRL" margin="-mt-6 md:-mt-8 ml-20" />
</div>

<style>
  .showText {
    overflow: hidden;
    animation: show-text 600ms steps(20, end);
  }

  #percentage {
    grid-template-columns: repeat(20, 1fr);
  }

  .divPercentage {
    background-color: #0000ff;
    display: none;
    -webkit-box-shadow: 10px 10px 54px -7px rgba(255, 255, 255, 0.5);
    -moz-box-shadow: 10px 10px 54px -7px rgba(255, 255, 255, 0.5);
    box-shadow: 10px 10px 54px -7px rgba(255, 255, 255, 1);
  }

  @keyframes show-text {
    from {
      width: 0;
    }
    to {
      width: 100%;
    }
  }
</style>
